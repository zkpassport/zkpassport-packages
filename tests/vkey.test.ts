import { ultraVkToFields } from "../src/circuits/vkey"
import fs from "fs"
import path from "path"

describe("ultraVkToFields", () => {
  test("simple", () => {
    const vkey =
      "000000000000002000000000000000050000000000000001000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000415666CB60796632CAF35AF5543A21E67A579D04B4A44A243C68DF3F358C69713CFCADDB617E8F25669052529424EB317E1AAC8221768E740F92361B30C2D620C5F79C354FF1AED5809AC290A982776516B8C609D99FB66B26CCCA2668AE6A80E50425D1B09A4FE3EE886D57C3F18044DD8B7570205CE031EC8BB3FFA1999A4276ED9E001DB810F4011BF5C5DE9F0D417CE67E6F241677FAFF2882CB6D3E72D08EB9210ACAA389635855693B62013016015F094460254D4D7E89A4F280678C109DFB00E38302724D39A5CE2F98CAD6E37C844DDA2ADC9AFBEAFB70C39377AF8219CF659F31A3EEB57F0ACBC1742C0934413B1BE8DFED3329B09C829EE03808B1F63CFCF82C517242EFB019AA53AF0331BB4077AD38845A1C80F915E96C49EA323351D7BD3FF9C2A712B705EE1281D7E8DE7567E0430AE1157EF1B6E89BF926D0B2CDCE018F3CAD9DF1152784C16D22AD2CCE4CAE72D4776353451DA817F2A2B219F88713EFA809DE71C478B02E81BA39E6EA655FD811BB4492143712BB9A4611405E253BF25766C7BCA1B209DB74FCB6F331DD2ED036A09FF10A25E00430AEE089D58E8FB2152DEAF529ACEE678E4CDBB8D660B7BF0E438229204F58DDE9E021618EA679C4EE1467267E50BB898148EF78D5DE08341B5AFDC0C863A59AB7E7023268AD7678B97FBA97CC3E75DA6CFF9A3659C3B8A49046CCE4062820E5C11161A11684E6C135CBE0B0CCDB27DF1434557E054C65DF3AF7487468BDFA2FD83252A8F4FBA8E6893B6D523E9572D7F4C60CADFEF00619E58D7DB7F2B28CEC212021469006B8B61C8D79301DFEEED1B752548D2EBFF7ED60A3CDA0C7DB10C955C8A19C2B11DDEFF8FFE68AB919E345670AB029BCBCE4A91DF6570722995D636F0371DD04A8B68480307AEBFA87E81EB08F45B112EC313618AC61A190B1313984C41246A2B5E4A48922ABC23F807BBC3AE334494A7DEF076D517537A97BAA29DC9B51AEBF53057BE467F5C3ED0F88D90604A4C8D6886256ADECA293661E04F1A3DDF2BB5FCC21332B83521C63599557C6473249908A160EFA4921BC0E5C16DA58B6F2D855B5B9EDA31247E5C717CE51DB5B7B0F74ED8027EDDB28BB72F061415E49E1E857D997CC8BD0B6558B670690358AD63520266C81078227F33651C341B77040F028430324245CE213D543B19FB4B060ADA6440D19A392B193A4A55591F2F5818D26B321EF43284D6136ADDF0A86DEE6079D0931C2865F2C6B06D9E136C0C1F2EEF5DE41B9A7B0E52B3C6C9DC6DD63618AC18F0E5E70930E406816ACE62FB2B144A24E7E4FA7E858B7092F7C37881572A651D710A7BCB6657A61FCB8FBAEA4F2E7E532E1656ED4CE34257A9297B836215EBEC6EDB1CADF52A0ACA08D15EE8101A08F5A547B8CB5991BFFF7E039B6FBC26883ADB6451DB4646E706B8D5D551CB17FC90A343CA94A33FAB8895250839249E9F72D521271E8F84BACD5539310BDA18BCE7273E69EEF07E1BE2A79612F14746F91EE47AA75F26D60B9882F20D1D7C23129A571C8E2E730F98C0941608D13C8927366C526D79E2BDCB2EE35EB436A709B08681F6335D38B30728B02E23AC9B5D3A4416ECC457CA9600E1181FECF0902480A28E74A1F17B3B1C218D26FA88CD2D9464699599C298120453636906284D14AB9CDFF943BF65AD395135D6C53A665319E307ACF88637C1425FA4A583B6C71E3912058C25E529FB6C651D048E34D640B94EFA080B9BEF7B9A54C80A208A872F17A75505C3035B9EA1FFFB0F430F5225A6BD8D55DA5A9446187D0EE9F6723D2493C99A3D068B03F8F2B8D28B57CEA3EE22DD60456277B86C32A18982DCB1851DED39C4C8366469843CD63F09ECACF6C3731486320082C20EC71BBDC92196C1004067623374B7C3965C7D8444B57AC2D81269C7EB3CB4F7B16568B2F8234C960E605F3AD72203E21301EF1B5333CAE1D8063220D1996854BEB0C4FBC33BBA9D17AAFA80BF54A7E6CC66472F9CCD70EFA5044207A95191716BA0195B5A432266233ECACA2DDBEBB0484A44E6F55B8C8614C7B5E0CE31B51D59D6B21322A307A10F808F231E43F089639E05C235642B43EF91DF7B6B2D51F3B34D17450BF4A536079B5C6882EB75200D55F88B75280A34C2EC6FE94D3660254AFC72F390DC75670765BF6645E4CF63F05D9B0EFD06ACEBCE309C685A3B05E613574CCD7316677C09770F145625290CDCB08BAE4E6F0A26897B5988FBAF9529E0A3326BFDB537AE000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000021B8AFAD764D2CBE67C94249535BBA7FCBD3F412F868487222AA54F3268AB64A201B70A90A334C9BD5096AAD8A0CC5D4C1D1CDB0FE415445BD0C84309CAAF213E"
    const expectedVkeyAsFields = [
      "0x0000000000000000000000000000000000000000000000000000000000000020",
      "0x0000000000000000000000000000000000000000000000000000000000000001",
      "0x0000000000000000000000000000000000000000000000000000000000000001",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000001e67a579d04b4a44a243c68df3f358c697",
      "0x00000000000000000000000000000000000415666cb60796632caf35af5543a2",
      "0x000000000000000000000000000000b317e1aac8221768e740f92361b30c2d62",
      "0x000000000000000000000000000000000013cfcaddb617e8f25669052529424e",
      "0x00000000000000000000000000000076516b8c609d99fb66b26ccca2668ae6a8",
      "0x00000000000000000000000000000000000c5f79c354ff1aed5809ac290a9827",
      "0x000000000000000000000000000000044dd8b7570205ce031ec8bb3ffa1999a4",
      "0x00000000000000000000000000000000000e50425d1b09a4fe3ee886d57c3f18",
      "0x000000000000000000000000000000d417ce67e6f241677faff2882cb6d3e72d",
      "0x0000000000000000000000000000000000276ed9e001db810f4011bf5c5de9f0",
      "0x000000000000000000000000000000016015f094460254d4d7e89a4f280678c1",
      "0x000000000000000000000000000000000008eb9210acaa389635855693b62013",
      "0x0000000000000000000000000000006e37c844dda2adc9afbeafb70c39377af8",
      "0x000000000000000000000000000000000009dfb00e38302724d39a5ce2f98cad",
      "0x000000000000000000000000000000934413b1be8dfed3329b09c829ee03808b",
      "0x0000000000000000000000000000000000219cf659f31a3eeb57f0acbc1742c0",
      "0x000000000000000000000000000000331bb4077ad38845a1c80f915e96c49ea3",
      "0x00000000000000000000000000000000001f63cfcf82c517242efb019aa53af0",
      "0x0000000000000000000000000000007e8de7567e0430ae1157ef1b6e89bf926d",
      "0x000000000000000000000000000000000023351d7bd3ff9c2a712b705ee1281d",
      "0x0000000000000000000000000000002ad2cce4cae72d4776353451da817f2a2b",
      "0x00000000000000000000000000000000000b2cdce018f3cad9df1152784c16d2",
      "0x000000000000000000000000000000a39e6ea655fd811bb4492143712bb9a461",
      "0x0000000000000000000000000000000000219f88713efa809de71c478b02e81b",
      "0x000000000000000000000000000000cb6f331dd2ed036a09ff10a25e00430aee",
      "0x00000000000000000000000000000000001405e253bf25766c7bca1b209db74f",
      "0x000000000000000000000000000000cdbb8d660b7bf0e438229204f58dde9e02",
      "0x0000000000000000000000000000000000089d58e8fb2152deaf529acee678e4",
      "0x0000000000000000000000000000008ef78d5de08341b5afdc0c863a59ab7e70",
      "0x00000000000000000000000000000000001618ea679c4ee1467267e50bb89814",
      "0x000000000000000000000000000000f9a3659c3b8a49046cce4062820e5c1116",
      "0x000000000000000000000000000000000023268ad7678b97fba97cc3e75da6cf",
      "0x0000000000000000000000000000004557e054c65df3af7487468bdfa2fd8325",
      "0x00000000000000000000000000000000001a11684e6c135cbe0b0ccdb27df143",
      "0x00000000000000000000000000000060cadfef00619e58d7db7f2b28cec21202",
      "0x00000000000000000000000000000000002a8f4fba8e6893b6d523e9572d7f4c",
      "0x0000000000000000000000000000002548d2ebff7ed60a3cda0c7db10c955c8a",
      "0x00000000000000000000000000000000001469006b8b61c8d79301dfeeed1b75",
      "0x000000000000000000000000000000ab029bcbce4a91df6570722995d636f037",
      "0x000000000000000000000000000000000019c2b11ddeff8ffe68ab919e345670",
      "0x000000000000000000000000000000f45b112ec313618ac61a190b1313984c41",
      "0x00000000000000000000000000000000001dd04a8b68480307aebfa87e81eb08",
      "0x000000000000000000000000000000334494a7def076d517537a97baa29dc9b5",
      "0x0000000000000000000000000000000000246a2b5e4a48922abc23f807bbc3ae",
      "0x0000000000000000000000000000004a4c8d6886256adeca293661e04f1a3ddf",
      "0x00000000000000000000000000000000001aebf53057be467f5c3ed0f88d9060",
      "0x00000000000000000000000000000073249908a160efa4921bc0e5c16da58b6f",
      "0x00000000000000000000000000000000002bb5fcc21332b83521c63599557c64",
      "0x000000000000000000000000000000b7b0f74ed8027eddb28bb72f061415e49e",
      "0x00000000000000000000000000000000002d855b5b9eda31247e5c717ce51db5",
      "0x000000000000000000000000000000ad63520266c81078227f33651c341b7704",
      "0x00000000000000000000000000000000001e857d997cc8bd0b6558b670690358",
      "0x000000000000000000000000000000060ada6440d19a392b193a4a55591f2f58",
      "0x00000000000000000000000000000000000f028430324245ce213d543b19fb4b",
      "0x000000000000000000000000000000ee6079d0931c2865f2c6b06d9e136c0c1f",
      "0x000000000000000000000000000000000018d26b321ef43284d6136addf0a86d",
      "0x0000000000000000000000000000003618ac18f0e5e70930e406816ace62fb2b",
      "0x00000000000000000000000000000000002eef5de41b9a7b0e52b3c6c9dc6dd6",
      "0x000000000000000000000000000000572a651d710a7bcb6657a61fcb8fbaea4f",
      "0x0000000000000000000000000000000000144a24e7e4fa7e858b7092f7c37881",
      "0x0000000000000000000000000000006215ebec6edb1cadf52a0aca08d15ee810",
      "0x00000000000000000000000000000000002e7e532e1656ed4ce34257a9297b83",
      "0x000000000000000000000000000000bc26883adb6451db4646e706b8d5d551cb",
      "0x00000000000000000000000000000000001a08f5a547b8cb5991bfff7e039b6f",
      "0x000000000000000000000000000000249e9f72d521271e8f84bacd5539310bda",
      "0x000000000000000000000000000000000017fc90a343ca94a33fab8895250839",
      "0x0000000000000000000000000000004746f91ee47aa75f26d60b9882f20d1d7c",
      "0x000000000000000000000000000000000018bce7273e69eef07e1be2a79612f1",
      "0x0000000000000000000000000000003c8927366c526d79e2bdcb2ee35eb436a7",
      "0x000000000000000000000000000000000023129a571c8e2e730f98c0941608d1",
      "0x0000000000000000000000000000009b5d3a4416ecc457ca9600e1181fecf090",
      "0x000000000000000000000000000000000009b08681f6335d38b30728b02e23ac",
      "0x000000000000000000000000000000cd2d9464699599c298120453636906284d",
      "0x00000000000000000000000000000000002480a28e74a1f17b3b1c218d26fa88",
      "0x000000000000000000000000000000665319e307acf88637c1425fa4a583b6c7",
      "0x000000000000000000000000000000000014ab9cdff943bf65ad395135d6c53a",
      "0x000000000000000000000000000000d640b94efa080b9bef7b9a54c80a208a87",
      "0x00000000000000000000000000000000001e3912058c25e529fb6c651d048e34",
      "0x0000000000000000000000000000005225a6bd8d55da5a9446187d0ee9f6723d",
      "0x00000000000000000000000000000000002f17a75505c3035b9ea1fffb0f430f",
      "0x000000000000000000000000000000a3ee22dd60456277b86c32a18982dcb185",
      "0x00000000000000000000000000000000002493c99a3d068b03f8f2b8d28b57ce",
      "0x000000000000000000000000000000f6c3731486320082c20ec71bbdc92196c1",
      "0x00000000000000000000000000000000001ded39c4c8366469843cd63f09ecac",
      "0x000000000000000000000000000000c2d81269c7eb3cb4f7b16568b2f8234c96",
      "0x0000000000000000000000000000000000004067623374b7c3965c7d8444b57a",
      "0x000000000000000000000000000000e1d8063220d1996854beb0c4fbc33bba9d",
      "0x00000000000000000000000000000000000e605f3ad72203e21301ef1b5333ca",
      "0x000000000000000000000000000000efa5044207a95191716ba0195b5a432266",
      "0x000000000000000000000000000000000017aafa80bf54a7e6cc66472f9ccd70",
      "0x0000000000000000000000000000008614c7b5e0ce31b51d59d6b21322a307a1",
      "0x0000000000000000000000000000000000233ecaca2ddbebb0484a44e6f55b8c",
      "0x00000000000000000000000000000043ef91df7b6b2d51f3b34d17450bf4a536",
      "0x00000000000000000000000000000000000f808f231e43f089639e05c235642b",
      "0x00000000000000000000000000000034c2ec6fe94d3660254afc72f390dc7567",
      "0x0000000000000000000000000000000000079b5c6882eb75200d55f88b75280a",
      "0x000000000000000000000000000000ebce309c685a3b05e613574ccd7316677c",
      "0x00000000000000000000000000000000000765bf6645e4cf63f05d9b0efd06ac",
      "0x00000000000000000000000000000026897b5988fbaf9529e0a3326bfdb537ae",
      "0x000000000000000000000000000000000009770f145625290cdcb08bae4e6f0a",
      "0x0000000000000000000000000000000000000000000000000000000000000001",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000000000000000000000000000000000000002",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x000000000000000000000000000000fcbd3f412f868487222aa54f3268ab64a2",
      "0x00000000000000000000000000000000001b8afad764d2cbe67c94249535bba7",
      "0x0000000000000000000000000000004c1d1cdb0fe415445bd0c84309caaf213e",
      "0x000000000000000000000000000000000001b70a90a334c9bd5096aad8a0cc5d",
    ]
    const vkeyAsFields = ultraVkToFields(Buffer.from(vkey, "hex"))
    expect(vkeyAsFields).toEqual(expectedVkeyAsFields)
  })

  test("simple recursive", () => {
    const vkey =
      "0000000000000040000000000000000600000000000000110000000000000001010000000100000002000000030000000400000005000000060000000700000008000000090000000A0000000B0000000C0000000D0000000E0000000F0000001015DE900E94350EA3975918E6D60C947E2EAC58721B71FD143E8093A9298BD83218BEABB6EB75D020CA89ABFEBEF459C63A9C4675FA63BB9DC4D4CD501B7FD62B276A88A53D18666B1A7F8D99016F46BC42F973E1A8204FCDC4713147E54BC4C0195E71A53A967EA60FB8ACAD62A54955A7F7F55003ED4CEB5179A0AE88A52AA600BEE74FE4BA0F0706C0A8DFEEEA22F24EF809AC4A113BC42090C52FC58F41BC0ED23F114A82F5AFC80BA1D0B49A3344A6698B33F161565A20A52062819533F41983F543565FC8A487F3DB893414041DC0EDC47913F9E57DAEC1F9732A196F3F1DD02777036EE44C33A1F9EDEED59C96E3C678EA764FDCF9FBD6BF1D12B172BC0595C52116B098D4E602D1FFF07CF7F80EB05FC24BC448C5153A2A0E17B518262158A6312B12BD3C451135E9354852213E33CA12CAA427D003BAAAB5B67ECAE41D323F71B9BAFB1E8E87AEB75EF7FCEF629373CBD8A0E37AFA107A220C7BD84E06E6101AE20C392FBBDD6851D12C497D6FA89E0989B551DFE46EED4019DD67851C02DDF3EAC27C1EA8B2DD89379D71BD9345B4011537931C332EEC61D20FD78E18C96434F872B70078D0B2D027155BE3B324431AC6E6C82A16CF0A49F21AA579099678F90E37B0F5BA96EE12248F8E8D46182ED811408385D948CE6DEFF8136A23423272EAC33B7AE4CB6D2D00815D170AABD96CDA20C143D937C5CF30ABCF552DD40F29B553D279524BD54AA1F11E89426A481C616ECCC3C4DFDEC92B5C4F881A15EB2B67468425209B384B0CA2F512D2EDC48FEB388FD685730874E3CED77E1F0726235025CAC62A56E9E6A6983DC91386BEC1CDF05451CE4915DCBF4D340C06E0242610DD531470885E9C150693638809020A57843F3F4CC7933B77EFFA98116151016B4FEA676C06D9D297159098031C1B2D5C0AE18D5E5D874105B26EAE0610CFEEE3E9DBC93565C2B5CA7CBFB4A301B32B4903F16CC95BDD4A8D30275D1BCEDD9106BDD4E13E0B751C672A83F68B70E0E4B0CB9E2C7BD64FA4B75B32DD1CCFA89524772B4BD5B6BF6741D71F42FD857EB4BF620DB08B0E181807DF9F591A81D9AC52AA2A7FDE7EE8B78F3606A35A8758E8DE801673CEA21E9A03B7FF4A1D22D13122365E7CE6B1015F81EB2BA0E7FC566A64737406AEEABE279ECE22BA15E57C64AAA2A1F47EFD86B67CEB588C740E01463717230603E922274DBF5B5A300F6BBEF6F408F43A5AC75AF5382FF1382EF5F3CDB6400212BF63EF478ABAE411F6F1336DB5A6F227BA00C19E48D8D02E589C532C65C783DE5D3133A48638E41BF818E760E1ADE4D9A4BA4CA0F94E8E4DDEDDB13F9F517215ACF5537040C076181821B4F3046FE3EC03F8A4A90C60CB2BC925DADA704D230B198FD11BB069BE0B67FCB67D83E1E24EC5537BE75274D2B585D999B3D03BFFE557A5B2A89B84F60E27079DAFD40A97DD72F0A38C645045F517120049E114DFE062E02D3A0A77FC2689B07910673D53F09FE26F07CB7A6F03599A08EE66531F66A609CF45A8F5432140069786486F080D53966C0A988B3055BCAC6D431A94F0C78D21AB555EBD892FB74ACF989FC1AF8380CAEEA21BD610860527689BAB75B930E6F3CE68B67A49108F6B6515911EF1A23FFBAD88DB1153B4B6FD798D64BE8974F42B26003E9FDC004DEEF1DB8EC282F302444A5F63C893C679E3B19370EC0A0361411F2FF70823002A026247B1E46EF0FF5A9F824AF06E25D54FD4A3CC2891613D4340684EB4E81F1D95C902329486F2533261A6ABD60B4596B8F1323E88024C2DE16EF5CE8A0F1FCBE43EA105B30D36ED0B21B034110AB9955EEC0D74EB799AFED2A802B24D752331546A256B8A3B751956806680D4D66B1D5433F1AA5305CD1EDCE7C22DE4660904E02F0334F3A3F72E65CE82F34B292B512A940306C9B122A0FEB4E9780AF901FE54F93991AA61A056F75E5137B0778103226EFF8F576EBA0A0A2FFA134D5709E91383CE6118CEF78093D2C550FC89058E539EB10C10FA13DD50E39517555D0AB28965260D651673541F10F2E02FD95E2E1BF12461B508CC8D63FEE4A8613D1E47E6531C4EC673E9C18A9062C1DF8F6F361C7FE163277C1022DACF2A0F307B05D3E2113696D710431294256DAB1AE55BA7B44DE2C0927D4DF995625325C68C17B03E1A64B4988E05CA4291F3CE6A150B1462A7B440EF041DC9E7AF7E1D1F1501ED433638A57A66F8205DAEA09E508D494CCFB05451BEA33FE43623C45A9D7B0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000226131FC1251EB7746E72A19F9F9B250F079744EC926FC2A41FB8A0489D1FB44403588BE01690F20304E3D200C3B81A867F03ABC37431898437D94C0822213FBB"
    const expectedVkeyAsFields = [
      "0x0000000000000000000000000000000000000000000000000000000000000040",
      "0x0000000000000000000000000000000000000000000000000000000000000011",
      "0x0000000000000000000000000000000000000000000000000000000000000001",
      "0x0000000000000000000000000000000000000000000000000000000000000001",
      "0x0000000000000000000000000000000000000000000000000000000000000001",
      "0x0000000000000000000000000000000000000000000000000000000000000002",
      "0x0000000000000000000000000000000000000000000000000000000000000003",
      "0x0000000000000000000000000000000000000000000000000000000000000004",
      "0x0000000000000000000000000000000000000000000000000000000000000005",
      "0x0000000000000000000000000000000000000000000000000000000000000006",
      "0x0000000000000000000000000000000000000000000000000000000000000007",
      "0x0000000000000000000000000000000000000000000000000000000000000008",
      "0x0000000000000000000000000000000000000000000000000000000000000009",
      "0x000000000000000000000000000000000000000000000000000000000000000a",
      "0x000000000000000000000000000000000000000000000000000000000000000b",
      "0x000000000000000000000000000000000000000000000000000000000000000c",
      "0x000000000000000000000000000000000000000000000000000000000000000d",
      "0x000000000000000000000000000000000000000000000000000000000000000e",
      "0x000000000000000000000000000000000000000000000000000000000000000f",
      "0x0000000000000000000000000000000000000000000000000000000000000010",
      "0x0000000000000000000000000000007e2eac58721b71fd143e8093a9298bd832",
      "0x000000000000000000000000000000000015de900e94350ea3975918e6d60c94",
      "0x000000000000000000000000000000c63a9c4675fa63bb9dc4d4cd501b7fd62b",
      "0x000000000000000000000000000000000018beabb6eb75d020ca89abfebef459",
      "0x000000000000000000000000000000bc42f973e1a8204fcdc4713147e54bc4c0",
      "0x0000000000000000000000000000000000276a88a53d18666b1a7f8d99016f46",
      "0x00000000000000000000000000000055a7f7f55003ed4ceb5179a0ae88a52aa6",
      "0x0000000000000000000000000000000000195e71a53a967ea60fb8acad62a549",
      "0x000000000000000000000000000000f24ef809ac4a113bc42090c52fc58f41bc",
      "0x000000000000000000000000000000000000bee74fe4ba0f0706c0a8dfeeea22",
      "0x00000000000000000000000000000044a6698b33f161565a20a52062819533f4",
      "0x00000000000000000000000000000000000ed23f114a82f5afc80ba1d0b49a33",
      "0x0000000000000000000000000000001dc0edc47913f9e57daec1f9732a196f3f",
      "0x00000000000000000000000000000000001983f543565fc8a487f3db89341404",
      "0x00000000000000000000000000000096e3c678ea764fdcf9fbd6bf1d12b172bc",
      "0x00000000000000000000000000000000001dd02777036ee44c33a1f9edeed59c",
      "0x000000000000000000000000000000f80eb05fc24bc448c5153a2a0e17b51826",
      "0x00000000000000000000000000000000000595c52116b098d4e602d1fff07cf7",
      "0x000000000000000000000000000000213e33ca12caa427d003baaab5b67ecae4",
      "0x00000000000000000000000000000000002158a6312b12bd3c451135e9354852",
      "0x000000000000000000000000000000ef629373cbd8a0e37afa107a220c7bd84e",
      "0x00000000000000000000000000000000001d323f71b9bafb1e8e87aeb75ef7fc",
      "0x0000000000000000000000000000007d6fa89e0989b551dfe46eed4019dd6785",
      "0x000000000000000000000000000000000006e6101ae20c392fbbdd6851d12c49",
      "0x000000000000000000000000000000bd9345b4011537931c332eec61d20fd78e",
      "0x00000000000000000000000000000000001c02ddf3eac27c1ea8b2dd89379d71",
      "0x000000000000000000000000000000e3b324431ac6e6c82a16cf0a49f21aa579",
      "0x000000000000000000000000000000000018c96434f872b70078d0b2d027155b",
      "0x0000000000000000000000000000008d46182ed811408385d948ce6deff8136a",
      "0x0000000000000000000000000000000000099678f90e37b0f5ba96ee12248f8e",
      "0x000000000000000000000000000000170aabd96cda20c143d937c5cf30abcf55",
      "0x000000000000000000000000000000000023423272eac33b7ae4cb6d2d00815d",
      "0x00000000000000000000000000000089426a481c616eccc3c4dfdec92b5c4f88",
      "0x00000000000000000000000000000000002dd40f29b553d279524bd54aa1f11e",
      "0x00000000000000000000000000000012d2edc48feb388fd685730874e3ced77e",
      "0x00000000000000000000000000000000001a15eb2b67468425209b384b0ca2f5",
      "0x000000000000000000000000000000c91386bec1cdf05451ce4915dcbf4d340c",
      "0x00000000000000000000000000000000001f0726235025cac62a56e9e6a6983d",
      "0x000000000000000000000000000000638809020a57843f3f4cc7933b77effa98",
      "0x000000000000000000000000000000000006e0242610dd531470885e9c150693",
      "0x00000000000000000000000000000098031c1b2d5c0ae18d5e5d874105b26eae",
      "0x0000000000000000000000000000000000116151016b4fea676c06d9d2971590",
      "0x000000000000000000000000000000b4a301b32b4903f16cc95bdd4a8d30275d",
      "0x00000000000000000000000000000000000610cfeee3e9dbc93565c2b5ca7cbf",
      "0x000000000000000000000000000000f68b70e0e4b0cb9e2c7bd64fa4b75b32dd",
      "0x00000000000000000000000000000000001bcedd9106bdd4e13e0b751c672a83",
      "0x00000000000000000000000000000042fd857eb4bf620db08b0e181807df9f59",
      "0x00000000000000000000000000000000001ccfa89524772b4bd5b6bf6741d71f",
      "0x000000000000000000000000000000a35a8758e8de801673cea21e9a03b7ff4a",
      "0x00000000000000000000000000000000001a81d9ac52aa2a7fde7ee8b78f3606",
      "0x000000000000000000000000000000a0e7fc566a64737406aeeabe279ece22ba",
      "0x00000000000000000000000000000000001d22d13122365e7ce6b1015f81eb2b",
      "0x0000000000000000000000000000008c740e01463717230603e922274dbf5b5a",
      "0x000000000000000000000000000000000015e57c64aaa2a1f47efd86b67ceb58",
      "0x000000000000000000000000000000f1382ef5f3cdb6400212bf63ef478abae4",
      "0x0000000000000000000000000000000000300f6bbef6f408f43a5ac75af5382f",
      "0x000000000000000000000000000000d02e589c532c65c783de5d3133a48638e4",
      "0x000000000000000000000000000000000011f6f1336db5a6f227ba00c19e48d8",
      "0x0000000000000000000000000000008e4ddeddb13f9f517215acf5537040c076",
      "0x00000000000000000000000000000000001bf818e760e1ade4d9a4ba4ca0f94e",
      "0x000000000000000000000000000000cb2bc925dada704d230b198fd11bb069be",
      "0x0000000000000000000000000000000000181821b4f3046fe3ec03f8a4a90c60",
      "0x000000000000000000000000000000d2b585d999b3d03bffe557a5b2a89b84f6",
      "0x00000000000000000000000000000000000b67fcb67d83e1e24ec5537be75274",
      "0x00000000000000000000000000000045f517120049e114dfe062e02d3a0a77fc",
      "0x00000000000000000000000000000000000e27079dafd40a97dd72f0a38c6450",
      "0x0000000000000000000000000000006f03599a08ee66531f66a609cf45a8f543",
      "0x00000000000000000000000000000000002689b07910673d53f09fe26f07cb7a",
      "0x0000000000000000000000000000003055bcac6d431a94f0c78d21ab555ebd89",
      "0x00000000000000000000000000000000002140069786486f080d53966c0a988b",
      "0x00000000000000000000000000000010860527689bab75b930e6f3ce68b67a49",
      "0x00000000000000000000000000000000002fb74acf989fc1af8380caeea21bd6",
      "0x00000000000000000000000000000053b4b6fd798d64be8974f42b26003e9fdc",
      "0x0000000000000000000000000000000000108f6b6515911ef1a23ffbad88db11",
      "0x00000000000000000000000000000093c679e3b19370ec0a0361411f2ff70823",
      "0x0000000000000000000000000000000000004deef1db8ec282f302444a5f63c8",
      "0x0000000000000000000000000000006e25d54fd4a3cc2891613d4340684eb4e8",
      "0x0000000000000000000000000000000000002a026247b1e46ef0ff5a9f824af0",
      "0x0000000000000000000000000000000b4596b8f1323e88024c2de16ef5ce8a0f",
      "0x00000000000000000000000000000000001f1d95c902329486f2533261a6abd6",
      "0x0000000000000000000000000000000ab9955eec0d74eb799afed2a802b24d75",
      "0x00000000000000000000000000000000001fcbe43ea105b30d36ed0b21b03411",
      "0x000000000000000000000000000000d66b1d5433f1aa5305cd1edce7c22de466",
      "0x00000000000000000000000000000000002331546a256b8a3b751956806680d4",
      "0x000000000000000000000000000000292b512a940306c9b122a0feb4e9780af9",
      "0x00000000000000000000000000000000000904e02f0334f3a3f72e65ce82f34b",
      "0x000000000000000000000000000000778103226eff8f576eba0a0a2ffa134d57",
      "0x000000000000000000000000000000000001fe54f93991aa61a056f75e5137b0",
      "0x00000000000000000000000000000089058e539eb10c10fa13dd50e39517555d",
      "0x000000000000000000000000000000000009e91383ce6118cef78093d2c550fc",
      "0x000000000000000000000000000000d95e2e1bf12461b508cc8d63fee4a8613d",
      "0x00000000000000000000000000000000000ab28965260d651673541f10f2e02f",
      "0x0000000000000000000000000000008f6f361c7fe163277c1022dacf2a0f307b",
      "0x00000000000000000000000000000000001e47e6531c4ec673e9c18a9062c1df",
      "0x000000000000000000000000000000e55ba7b44de2c0927d4df995625325c68c",
      "0x000000000000000000000000000000000005d3e2113696d710431294256dab1a",
      "0x000000000000000000000000000000150b1462a7b440ef041dc9e7af7e1d1f15",
      "0x000000000000000000000000000000000017b03e1a64b4988e05ca4291f3ce6a",
      "0x0000000000000000000000000000008d494ccfb05451bea33fe43623c45a9d7b",
      "0x000000000000000000000000000000000001ed433638a57a66f8205daea09e50",
      "0x0000000000000000000000000000000000000000000000000000000000000001",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000000000000000000000000000000000000002",
      "0x0000000000000000000000000000000000000000000000000000000000000000",
      "0x0000000000000000000000000000000f079744ec926fc2a41fb8a0489d1fb444",
      "0x000000000000000000000000000000000026131fc1251eb7746e72a19f9f9b25",
      "0x000000000000000000000000000000867f03abc37431898437d94c0822213fbb",
      "0x000000000000000000000000000000000003588be01690f20304e3d200c3b81a",
    ]
    const vkeyAsFields = ultraVkToFields(Buffer.from(vkey, "hex"))
    expect(vkeyAsFields).toEqual(expectedVkeyAsFields)
  })

  test("outer_evm_count_6_vkey", () => {
    const fixturesDir = path.join(__dirname, "fixtures", "outer_evm_count_6_vkey")
    const vkey = fs.readFileSync(path.join(fixturesDir, "vk"))
    const expected = JSON.parse(fs.readFileSync(path.join(fixturesDir, "vk_fields.json"), "utf8"))
    const vkeyAsFields = ultraVkToFields(vkey)
    expect(vkeyAsFields).toEqual(expected)
  })

  test("outer_count_6_vkey", () => {
    const fixturesDir = path.join(__dirname, "fixtures", "outer_count_6_vkey")
    const vkey = fs.readFileSync(path.join(fixturesDir, "vk"))
    const expected = JSON.parse(fs.readFileSync(path.join(fixturesDir, "vk_fields.json"), "utf8"))
    const vkeyAsFields = ultraVkToFields(vkey)
    expect(vkeyAsFields).toEqual(expected)
  })

  test("compare_age_vkey", () => {
    const fixturesDir = path.join(__dirname, "fixtures", "compare_age_vkey")
    const vkey = fs.readFileSync(path.join(fixturesDir, "vk"))
    const expected = JSON.parse(fs.readFileSync(path.join(fixturesDir, "vk_fields.json"), "utf8"))
    const vkeyAsFields = ultraVkToFields(vkey)
    expect(vkeyAsFields).toEqual(expected)
  })
  test("compare_age_evm_vkey", () => {
    const fixturesDir = path.join(__dirname, "fixtures", "compare_age_evm_vkey")
    const vkey = fs.readFileSync(path.join(fixturesDir, "vk"))
    const expected = JSON.parse(fs.readFileSync(path.join(fixturesDir, "vk_fields.json"), "utf8"))
    const vkeyAsFields = ultraVkToFields(vkey)
    expect(vkeyAsFields).toEqual(expected)
  })
})
